<!DOCTYPE html>
<html>
  <head>
    <title>GOL</title>
    <meta charset="utf-8" />
    <meta name="author" content="Christopher Eelman"/>
    <meta name="date" content="DATE"/>
    <meta name="description" content="GAME OF LIFE"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script type="text/javascript">
 /*
        var grid = [
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 1, 0, 0, 0, 0],
        [0, 0, 0, 0, 1, 0, 0, 0],
        [0, 0, 1, 1, 1, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0],
        [0, 0, 0, 0, 0, 0, 0, 0]
        ];
        

        var size = 8;
        */
        var size = 50;
        var grid = new Array(size);

        function generateRandomSeed(){
            // Loop to create 2D array using 1D array
            for (var i = 0; i < grid.length; i++) {
                grid[i] = new Array();
            }
        
            // Loop to initialize 2D array elements
            for (var i = 0; i < size; i++) {
                for (var j = 0; j < size; j++) {
                grid[i][j] = randomNum = Math.floor(2 * Math.random()) + 0; //fills with either a 1 or a zero
                }
            }
            displayGrid(grid);
        }
        




        function checkNorth(r, c){
            let i;
            let j;
            if(r <= 0){
                i = size - 1;
            }else{
                i = r - 1;
            }
            j = c;

            return (((grid[i][j])==1)? 1 : 0);
        }

        function checkSouth(r,c){
            let i;
            let j;
            if(r >= (size-1)){
                i = 0;
            }else{
                i = r + 1;
            }
             j = c;

            return (((grid[i][j])==1)? 1 : 0);
        }

        function checkEast(r,c){
            let i;
            let j;
            if (c >= (size-1)){
                j = 0;
            }else{
                j = c + 1;
            }
            i = r;

            return (((grid[i][j])==1)? 1 : 0);
        }

        function checkWest(r,c){
            let i;
            let j;
            if (c <= 0) {
                j = size - 1;
            }else{
                j = c - 1;
            }
            i = r;

            return (((grid[i][j])==1)? 1 : 0);

        }


        function checkNorthWest(r,c){
            let i;
            let j;
            if (r <= 0){
                i = size - 1;
            }else{
                i = r - 1;
            }

            if(c <= 0){
                j = size - 1;
            }else{
                j = c - 1;
            }

            return (((grid[i][j])==1)? 1 : 0);
        }

        function checkNorthEast(r, c){
            let i;
            let j;
            if (r<= 0) {
                i = size - 1;
            } else {
                i = r - 1;
            }

            if (c >= (size-1)){
                j = 0;
            }else{
                j = c + 1;
            }

            return (((grid[i][j])==1)? 1 : 0);
        }

        function checkSouthWest(r, c){
            let i;
            let j;
            if(r >= (size - 1)){
                i = 0;
            }else{
                i = r + 1;
            }

            if (c <= 0){
                j = size - 1;
            }else{
                j = c - 1;
            }

            return (((grid[i][j])==1)? 1 : 0);
        }

        function checkSouthEast(r, c){
            let i;
            let j;
            if(r >= (size - 1)){
                i = 0;
            }else{
                i = r + 1;
            }

            if (c >= (size-1)){
                j = 0;
            }else{
                j = c + 1;
            }

            return (((grid[i][j])==1)? 1 : 0);
        }




        function checkNeighbors(r, c){
            /*
            console.log(checkNorth(r, c) + ' North');
            console.log(checkSouth(r, c) + ' South');
            console.log(checkEast(r, c) + ' East');
            console.log(checkWest(r, c) + ' West');
            console.log(checkNorthWest(r, c) + ' NorthWest');
            console.log(checkNorthEast(r, c) + ' NorthEast');
            console.log(checkSouthWest(r, c) + ' SouthWest');
            console.log(checkSouthEast(r, c) + ' SouthEast');
            */
           let liveNeighbors = 0;
        
           if(checkNorth(r, c) == 1){
               liveNeighbors++;
           }
           if(checkSouth(r, c) == 1){
               liveNeighbors++;
           }
           if (checkEast(r, c) == 1){
               liveNeighbors++;
           }
           if (checkWest(r, c) == 1){
               liveNeighbors++;
           }
           if (checkNorthWest(r, c) == 1){
               liveNeighbors++;
           }
           if (checkNorthEast(r, c) == 1){
               liveNeighbors++;
           }
           if (checkSouthWest(r, c) == 1){
               liveNeighbors++;
           }
           if (checkSouthEast(r, c) == 1){
               liveNeighbors++;
           }

           return liveNeighbors;
        }


        function updateCell(r,c){
            let numLive = checkNeighbors(r,c);
            if (grid[r][c] == 1){
                if(numLive < 2){
                    return 0;
                }
                if(numLive > 3){
                    return 0;
                }else{
                    return 1;
                }
            }

            if (grid[r][c] == 0){
                if(numLive == 3){
                    return 1;
                }else{
                    return 0;
                }
            }

        }


        function updateBoard(){
            var newGrid = new Array(size);
            for (var i = 0; i < newGrid.length; i++) {
                newGrid[i] = new Array();
            }
            for (var i = 0; i < size; i++) {
                for (var j = 0; j < size; j++) {
                newGrid[i][j] = updateCell(i, j);
                }
            }
            grid = newGrid;
            displayGrid(grid)

        }
    



        function displayGrid(grd){
            var html = "<table>";
            for (let r = 0; r < grd.length; r++){
                html+= "<tr>";
                for (let c = 0; c < grd[r].length; c++){
                    let cell = "<td id = \"";
                    cell += "R"+r+"c"+c; // creates id
                    let color = (grd[r][c] == 1)?'black':'white'; 
                    cell += "\" style=\"background-color:"+color;
                    cell += "; color:white\">&nbsp&nbsp&nbsp&nbsp"//blank space;
                    cell+= "</td>";
                    html += cell;
                }
            }
            html += "</table>";
            document.getElementById("results").innerHTML = html;

        }

        function start(){
            interval = setInterval(updateBoard, 50);
        }


        function stop(){
            clearInterval(interval);
        }

    </script>
  </head>



  <body onload="generateRandomSeed()">
    <h1>Conways Game of Life</h1>
    <button onclick="start()">START</button>
    <button onclick="stop()">STOP</button>
    <DIV id="results"></DIV>


    
  </body>
</html>
